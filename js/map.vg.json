
    
{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "Global Population",
    "width": 800,
    "height": 400,
    "projection": {"type": "equalEarth"},
    "data": {
      "url": "ne_110m_admin_0_countries.topojson",
      "format": {"type": "topojson", "feature":
      "ne_110m_admin_0_countries"}
  },
      "transform": [
          {
          "lookup": "properties.NAME",
          "from": {
              "data":{
                  "url": "Global Population Trends(2016-2022).csv"
              },
              "key": "Country",
              "fields": ["Total_Population", "Year"]
          }
      },
      {"filter": "datum.Year == 2021"}
  ],
      "mark":{"type": "geoshape"},
      "encoding": {
          "color":{
              "field":"Total_Population",
              "type": "quantitative",
              "scale": {"type": "linear",
          "range": [
            "#efedf5",
            "#dadaeb",
            "#bcbddc",
            "#9e9ac8",
            "#807dba",
            "#6a51a3",
            "#54278f",
            "#3f007d"],
          "domain":[0, 700000, 20000000, 50000000, 90000000, 150000000, 500000000, 750000000, 1500000000]}
          },
          "tooltip": [
            {"field": "properties.NAME", "type": "nominal", "title": "Country"},
            {"field": "Year", "type": "quantitative"},
            {"field": "Total_Population", "type": "quantitative"}
          ]
      }
  
  }

